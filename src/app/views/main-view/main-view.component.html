<div class = "flex flex-column w-full h-full overflow-hidden">
	<div class = "flex-grow-0">
		<app-editor-toolbar></app-editor-toolbar>
	</div>
	<div class = "overflow-hidden flex-grow-1 w-full flex">
		<div class = "flex flex-column">
			<button
				*ngIf = "insertPanelVisible"
				pButton
				class = "p-button-lg p-button-text"
				pTooltip = "Hide insert panel"
				(click) = "togglePanel('insertPanelVisible')"
				icon = "pi pi-folder-open"
			></button>
			<button
				*ngIf = "!insertPanelVisible"
				pButton
				class = "p-button-lg p-button-text"
				[class.p-button-secondary] = "!insertPanelVisible"
				pTooltip = "Show insert panel"
				(click) = "togglePanel('insertPanelVisible')"
				icon = "pi pi-folder"
			></button>
			<button
				pButton
				class = "p-button-lg p-button-text"
				[class.p-button-secondary] = "!tracksPanelIsVisible"
				[pTooltip] = "(tracksPanelIsVisible ? 'Hide' : 'Show') + ' tracks panel'"
				(click) = "togglePanel('tracksPanelIsVisible')"
				icon = "pi pi-video"
			></button>
			<button
				pButton
				class = "p-button-lg p-button-text"
				[class.p-button-secondary] = "!tracksPropertiesPanelIsVisible"
				[pTooltip] = "(tracksPropertiesPanelIsVisible ? 'Hide' : 'Show') + ' track properties panel'"
				(click) = "togglePanel('tracksPropertiesPanelIsVisible')"
				icon = "pi pi-sliders-h"
			></button>
			<button
				pButton
				class = "p-button-lg p-button-text"
				[class.p-button-secondary] = "!infoPanelIsVisible"
				[pTooltip] = "(infoPanelIsVisible ? 'Hide' : 'Show') + ' info panel'"
				(click) = "togglePanel('infoPanelIsVisible')"
				icon = "pi pi-info-circle"
			></button>
		</div>
		<div class = "flex-grow-1 w-11 surface-card">
			<div class = "flex w-full h-full align-items-center justify-content-center" *ngIf = "!atLeastOnePanelIsVisible()">
				<h1 style = "font-family: var(--font-family);">No panels are open!</h1>
			</div>
			<app-custom-splitter
				[panelSizes] = "(tracksPropertiesPanelIsVisible || infoPanelIsVisible) ? [60,40] : [100,0]"
				*ngIf = "atLeastOnePanelIsVisible()"
				stateKey = "horizontalSplitter"
			>
				<div class = "h-full" panel1>
					<p-splitter
						styleClass = "h-full middle-panels overflow-hidden"
						class = "h-full"
						[panelSizes] = "insertPanelVisible ? [20, 80] : [0, 20000]"
						[minSizes] = "[0, 0]"
						stateKey = "verticalSplitter"
						stateStorage = "local"
						*ngIf = "insertPanelVisible || tracksPanelIsVisible"
					>
						<ng-template pTemplate>
							<p-tabView class = "w-full h-full" styleClass = "h-full flex flex-column overflow-hidden">
								<p-tabPanel header = "Imports" class = "h-full">
									<app-imports-panel class = "w-full" *ngIf = "insertPanelVisible"></app-imports-panel>
								</p-tabPanel>
								<p-tabPanel header = "Filters">
									<app-filter-selector class = "w-full" *ngIf = "insertPanelVisible"></app-filter-selector>
								</p-tabPanel>
							</p-tabView>
						</ng-template>
						<ng-template pTemplate>
							<app-tracks-panel class = "w-full h-full" *ngIf = "tracksPanelIsVisible"></app-tracks-panel>
						</ng-template>
					</p-splitter>
				</div>
				<div class = "flex overflow-hidden w-full h-full" panel2>
					<app-info-panel [(isVisible)] = "infoPanelIsVisible" class = "h-5px" [class.w-2] = "infoPanelIsVisible"></app-info-panel>
					<app-track-properties-panel class = "w-full h-5px" [class.w-10] = "infoPanelIsVisible" *ngIf = "tracksPropertiesPanelIsVisible"></app-track-properties-panel>
				</div>
			</app-custom-splitter>
		</div>
	</div>
</div>
